<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TModLoader: Terraria.ModLoader.ModTile.GetItemDrops</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">TModLoader<span id="projectnumber">&#160;v1.4.4.9</span>
   </div>
   <div id="projectbrief">TModLoader source code documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d5/dec/classTerraria_1_1ModLoader_1_1ModTile_a48238c7c8fb92bb6b88473a1e93fbfea.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="a48238c7c8fb92bb6b88473a1e93fbfea" name="a48238c7c8fb92bb6b88473a1e93fbfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48238c7c8fb92bb6b88473a1e93fbfea">&#9670;&#160;</a></span>GetItemDrops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/da9/classList.html">virtual</a> <a class="el" href="../../d5/ddf/classIEnumerable.html">IEnumerable</a>&lt; <a class="el" href="../../db/d79/classTerraria_1_1Item.html">Item</a> &gt; Terraria.ModLoader.ModTile.GetItemDrops </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows customization of the items the tile at the given coordinates drops.<br  />
<br  />
 The default item drop is determined by finding an item with F:Terraria.Item.createTile and F:Terraria.Item.placeStyle matching the type and style of this tile. M:Terraria.ModLoader.ModTile.RegisterItemDrop(System.Int32,System.Int32[]) can be used to manually register item drops for tile styles with no corresponding item. It can also be used to register a fallback item, which will be dropped if no suitable item is found.<br  />
<br  />
 The default behavior should cover 99% of use cases, meaning that overriding this method should only be necessary in extremely unique tiles, such as tiles dropping multiple items, tiles dropping items with custom data, or tiles with custom tile style code.<br  />
<br  />
 When overriding, use <code>yield return new Item(ItemTypeHere);</code> for each spawned item. Note that a random prefix will be applied to these items, if applicable, so if specific prefixes or no prefix is needed for an item drop, it will have to be spawned in manually using M:Terraria.ModLoader.ModTile.KillMultiTile(System.Int32,System.Int32,System.Int32,System.Int32) or M:Terraria.ModLoader.ModTile.KillTile(System.Int32,System.Int32,System.Boolean@,System.Boolean@,System.Boolean@).<br  />
<br  />
 The style based drop logic is based on T:Terraria.ObjectData.TileObjectData. If a tile has custom 'styles' but still wants to make use of M:Terraria.ModLoader.ModTile.RegisterItemDrop(System.Int32,System.Int32[]), <code>TileLoader.GetItemDropFromTypeAndStyle(Type, style)</code> can be used to retrieve the associated item drop.<br  />
<br  />
 Use M:Terraria.ModLoader.ModTile.CanDrop(System.Int32,System.Int32) to conditionally prevent any item drops. Use M:Terraria.ModLoader.ModTile.KillMultiTile(System.Int32,System.Int32,System.Int32,System.Int32) or M:Terraria.ModLoader.ModTile.KillTile(System.Int32,System.Int32,System.Boolean@,System.Boolean@,System.Boolean@) for other logic such as cleaning up TileEntities or killing chests or signs.<br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>The x position in tile coordinates.</td></tr>
    <tr><td class="paramname">j</td><td>The y position in tile coordinates.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/da8/ModTile_8cs_source.html#l00247">247</a> of file <a class="el" href="../../d5/da8/ModTile_8cs_source.html">ModTile.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>    {</div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_enumvalue" href="../../de/d78/namespaceTerraria_1_1DataStructures_a07f76c43e1e486afbc0918c156dc4485.html#a07f76c43e1e486afbc0918c156dc4485ac5457c5f3cfb4da8638ce7190f8e5152">Tile</a> tile = Main.tile[i, <a class="code hl_class" href="../../d6/da9/classList.html">j</a>];</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordtype">int</span> style = <a class="code hl_class" href="../../d0/d9d/classTerraria_1_1ObjectData_1_1TileObjectData.html">TileObjectData</a>.<a class="code hl_function" href="../../d0/d9d/classTerraria_1_1ObjectData_1_1TileObjectData_a5142d5447131630cc94f5b9234e6cb88.html#a5142d5447131630cc94f5b9234e6cb88">GetTileStyle</a>(tile);</div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">if</span> (style == -1)</div>
<div class="line"><span class="lineno">  252</span>        {</div>
<div class="line"><span class="lineno">  253</span>            style = 0;</div>
<div class="line"><span class="lineno">  254</span>        }</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordtype">int</span> <a class="code hl_class" href="../../d6/da9/classList.html">dropItem</a> = TileLoader.GetItemDropFromTypeAndStyle(tile.type, style);</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d6/da9/classList.html">dropItem</a> &gt; 0)</div>
<div class="line"><span class="lineno">  257</span>        {</div>
<div class="line"><span class="lineno">  258</span>            <span class="keywordflow">return</span> <span class="keyword">new</span> Item[1]</div>
<div class="line"><span class="lineno">  259</span>            {</div>
<div class="line"><span class="lineno">  260</span>                <span class="keyword">new</span> Item(<a class="code hl_class" href="../../d6/da9/classList.html">dropItem</a>)</div>
<div class="line"><span class="lineno">  261</span>            };</div>
<div class="line"><span class="lineno">  262</span>        }</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  264</span>    }</div>
<div class="ttc" id="aclassList_html"><div class="ttname"><a href="../../d6/da9/classList.html">List</a></div></div>
<div class="ttc" id="aclassTerraria_1_1ObjectData_1_1TileObjectData_a5142d5447131630cc94f5b9234e6cb88_html_a5142d5447131630cc94f5b9234e6cb88"><div class="ttname"><a href="../../d0/d9d/classTerraria_1_1ObjectData_1_1TileObjectData_a5142d5447131630cc94f5b9234e6cb88.html#a5142d5447131630cc94f5b9234e6cb88">Terraria.ObjectData.TileObjectData.GetTileStyle</a></div><div class="ttdeci">static int GetTileStyle(Tile getTile)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/dc0/TileObjectData_8cs_source.html#l04515">TileObjectData.cs:4515</a></div></div>
<div class="ttc" id="aclassTerraria_1_1ObjectData_1_1TileObjectData_html"><div class="ttname"><a href="../../d0/d9d/classTerraria_1_1ObjectData_1_1TileObjectData.html">Terraria.ObjectData.TileObjectData</a></div><div class="ttdef"><b>Definition</b> <a href="../../dc/dc0/TileObjectData_8cs_source.html#l00011">TileObjectData.cs:12</a></div></div>
<div class="ttc" id="anamespaceTerraria_1_1DataStructures_a07f76c43e1e486afbc0918c156dc4485_html_a07f76c43e1e486afbc0918c156dc4485ac5457c5f3cfb4da8638ce7190f8e5152"><div class="ttname"><a href="../../de/d78/namespaceTerraria_1_1DataStructures_a07f76c43e1e486afbc0918c156dc4485.html#a07f76c43e1e486afbc0918c156dc4485ac5457c5f3cfb4da8638ce7190f8e5152">Terraria.DataStructures.TileDataType.Tile</a></div><div class="ttdeci">@ Tile</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d70/classTerraria_1_1ModLoader_1_1TileLoader_a9621e72680efcdc3b01dc10dd8782e82.html#a9621e72680efcdc3b01dc10dd8782e82">Terraria.ModLoader.TileLoader.GetItemDropFromTypeAndStyle()</a>, <a class="el" href="../../d0/d9d/classTerraria_1_1ObjectData_1_1TileObjectData_a5142d5447131630cc94f5b9234e6cb88.html#a5142d5447131630cc94f5b9234e6cb88">Terraria.ObjectData.TileObjectData.GetTileStyle()</a>, <a class="el" href="../../da/dd5/classTerraria_1_1Main_ae2f5802eb9960ecfe6fd5956aae15117.html#ae2f5802eb9960ecfe6fd5956aae15117">Terraria.Main.tile</a>, and <a class="el" href="../../d6/d21/structTerraria_1_1Tile_a56457a1f2ea5eb8727472cdf93ea6d8c.html#a56457a1f2ea5eb8727472cdf93ea6d8c">Terraria.Tile.type</a>.</p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/dec/classTerraria_1_1ModLoader_1_1ModTile_a48238c7c8fb92bb6b88473a1e93fbfea_a48238c7c8fb92bb6b88473a1e93fbfea_cgraph.svg" width="492" height="115"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d42/namespaceTerraria.html">Terraria</a></li><li class="navelem"><a class="el" href="../../da/d24/namespaceTerraria_1_1ModLoader.html">ModLoader</a></li><li class="navelem"><a class="el" href="../../d6/d1f/namespaceTerraria_1_1ModLoader_1_1Default.html">Default</a></li><li class="navelem"><a class="el" href="../../d7/df1/classTerraria_1_1ModLoader_1_1Default_1_1UnloadedTile.html">UnloadedTile</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
